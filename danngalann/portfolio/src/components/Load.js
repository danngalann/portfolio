import React, { useEffect, useRef } from "react";
import { gsap } from "gsap";

export default function Load() {
  const page = useRef(null);
  const tl = gsap.timeline();

  useEffect(() => {
    pin();
    animateSgv("loadSvg", 0, 0.14);
    tl.to(page.current, { duration: 0.5, delay: 3, y: -900 }).to(
      page.current,
      {
        duration: 2.4,
        height: 0,
        onComplete: unpin,
      },
      1.5
    );
  }, []);

  function animateSgv(id, delay, delayIncrement) {
    const logo = document.getElementById(id);
    const logoPaths = document.querySelectorAll(`#${id} path`);
    delay = delay;
    for (let i = 0; i < logoPaths.length; i++) {
      logoPaths[i].style.strokeDasharray = logoPaths[i].getTotalLength();
      logoPaths[i].style.strokeDashoffset = logoPaths[i].getTotalLength();
      logoPaths[i].style.animation = `line-anim 1.3s ease forwards ${delay}s`;
      delay += delayIncrement;
    }
    logo.style.animation = `fill .5s ease forwards ${delay}s`;
  }

  // Block scroll before animation is finished
  function pin() {
    document.querySelector("html").style.overflow = "hidden";
  }
  // Allow scroll after animation is finished
  function unpin() {
    document.querySelector("html").style.overflow = "auto";
  }

  return (
    <div id="load" ref={page}>
      <svg
        width="597.101"
        height="94.101"
        viewBox="0 0 597.101 94.101"
        xmlns="http://www.w3.org/2000/svg"
      >
        <g
          id="loadSvg"
          strokeLinecap="round"
          fillRule="evenodd"
          fontSize="9pt"
          stroke="#575757"
          strokeWidth="0.25mm"
          fill="none"
          style={{ stroke: "#575757", strokeWidth: "0.25mm", fill: "none" }}
        >
          <path
            d="M 47.101 0 L 52.101 0 L 52.101 74.2 L 47.201 74.2 L 47.201 61.9 A 22.884 22.884 0 0 1 41.302 69.347 A 22.161 22.161 0 0 1 38.501 71.3 A 23.955 23.955 0 0 1 27.983 74.519 A 29.132 29.132 0 0 1 25.801 74.6 A 27.012 27.012 0 0 1 16.822 73.136 A 24.896 24.896 0 0 1 12.601 71.2 Q 6.701 67.8 3.351 61.8 Q 0.001 55.8 0.001 48.1 A 30.249 30.249 0 0 1 1.061 39.96 A 25.833 25.833 0 0 1 3.351 34.35 Q 6.701 28.3 12.601 24.95 A 25.925 25.925 0 0 1 24.444 21.629 A 30.989 30.989 0 0 1 25.801 21.6 A 25.438 25.438 0 0 1 33.793 22.825 A 22.863 22.863 0 0 1 38.351 24.9 Q 43.901 28.2 47.101 34.1 L 47.101 0 Z M 26.101 70.1 A 22.017 22.017 0 0 0 32.867 69.087 A 19.64 19.64 0 0 0 36.851 67.3 Q 41.601 64.5 44.351 59.5 A 22.277 22.277 0 0 0 46.95 51.023 A 27.682 27.682 0 0 0 47.101 48.1 A 25.434 25.434 0 0 0 46.278 41.519 A 21.421 21.421 0 0 0 44.351 36.7 Q 41.601 31.7 36.851 28.9 A 20.354 20.354 0 0 0 27.672 26.149 A 24.704 24.704 0 0 0 26.101 26.1 A 22.017 22.017 0 0 0 19.334 27.113 A 19.64 19.64 0 0 0 15.351 28.9 Q 10.601 31.7 7.851 36.7 A 22.277 22.277 0 0 0 5.252 45.177 A 27.682 27.682 0 0 0 5.101 48.1 A 25.434 25.434 0 0 0 5.923 54.681 A 21.421 21.421 0 0 0 7.851 59.5 Q 10.601 64.5 15.351 67.3 A 20.354 20.354 0 0 0 24.529 70.051 A 24.704 24.704 0 0 0 26.101 70.1 Z"
            id="0"
            vectorEffect="non-scaling-stroke"
          />
          <path
            d="M 110.901 41.1 L 110.901 74.2 L 106.101 74.2 L 106.101 64.9 Q 103.601 69.5 98.801 72.05 A 21.114 21.114 0 0 1 92.799 74.112 Q 90.232 74.6 87.301 74.6 A 29.864 29.864 0 0 1 81.751 74.116 Q 78.563 73.512 76.045 72.157 A 15.886 15.886 0 0 1 73.551 70.5 A 13.074 13.074 0 0 1 68.549 60.984 A 16.827 16.827 0 0 1 68.501 59.7 A 14.761 14.761 0 0 1 69.391 54.481 A 13.107 13.107 0 0 1 73.151 49.15 A 13.913 13.913 0 0 1 77.524 46.643 Q 81.443 45.197 87.219 45.106 A 49.777 49.777 0 0 1 88.001 45.1 L 105.901 45.1 L 105.901 40.9 Q 105.901 35.538 103.77 32.065 A 11.399 11.399 0 0 0 101.951 29.8 Q 98.601 26.578 92.626 26.088 A 27.258 27.258 0 0 0 90.401 26 Q 85.201 26 80.451 27.8 A 27.338 27.338 0 0 0 75.566 30.205 A 22.508 22.508 0 0 0 72.401 32.6 L 69.901 29 Q 73.801 25.5 79.301 23.55 Q 84.801 21.6 90.801 21.6 A 30.46 30.46 0 0 1 96.617 22.12 Q 99.968 22.773 102.574 24.243 A 15.704 15.704 0 0 1 105.701 26.55 Q 110.901 31.5 110.901 41.1 Z M 105.901 58.8 L 105.901 49 L 88.101 49 A 33.59 33.59 0 0 0 84.207 49.209 Q 80.089 49.692 77.658 51.285 A 8.591 8.591 0 0 0 76.951 51.8 A 9.136 9.136 0 0 0 73.545 58.417 A 12.966 12.966 0 0 0 73.501 59.5 A 10.981 10.981 0 0 0 74.122 63.272 A 9.427 9.427 0 0 0 77.301 67.55 Q 80.321 69.895 85.301 70.376 A 28.109 28.109 0 0 0 88.001 70.5 A 23.438 23.438 0 0 0 93.315 69.926 A 17.533 17.533 0 0 0 99.051 67.5 A 17.454 17.454 0 0 0 104.787 61.165 A 22.421 22.421 0 0 0 105.901 58.8 Z"
            id="1"
            vectorEffect="non-scaling-stroke"
          />
          <path
            d="M 178.201 43.7 L 178.201 74.2 L 173.201 74.2 L 173.201 44.1 A 27.908 27.908 0 0 0 172.766 39.01 Q 172.228 36.115 171.025 33.847 A 13.803 13.803 0 0 0 168.751 30.7 Q 164.301 26.1 156.301 26.1 Q 147.101 26.1 141.801 31.6 A 18.423 18.423 0 0 0 137.071 40.706 A 26.955 26.955 0 0 0 136.501 46.4 L 136.501 74.2 L 131.501 74.2 L 131.501 22 L 136.301 22 L 136.301 33.3 Q 139.001 27.8 144.351 24.7 A 22.703 22.703 0 0 1 152.161 21.975 A 30.114 30.114 0 0 1 157.001 21.6 A 27.236 27.236 0 0 1 163.515 22.336 A 18.768 18.768 0 0 1 172.501 27.3 A 18.381 18.381 0 0 1 177.11 35.295 Q 177.962 38.204 178.148 41.698 A 37.577 37.577 0 0 1 178.201 43.7 Z"
            id="2"
            vectorEffect="non-scaling-stroke"
          />
          <path
            d="M 245.501 43.7 L 245.501 74.2 L 240.501 74.2 L 240.501 44.1 A 27.908 27.908 0 0 0 240.066 39.01 Q 239.528 36.115 238.325 33.847 A 13.803 13.803 0 0 0 236.051 30.7 Q 231.601 26.1 223.601 26.1 Q 214.401 26.1 209.101 31.6 A 18.423 18.423 0 0 0 204.371 40.706 A 26.955 26.955 0 0 0 203.801 46.4 L 203.801 74.2 L 198.801 74.2 L 198.801 22 L 203.601 22 L 203.601 33.3 Q 206.301 27.8 211.651 24.7 A 22.703 22.703 0 0 1 219.461 21.975 A 30.114 30.114 0 0 1 224.301 21.6 A 27.236 27.236 0 0 1 230.815 22.336 A 18.768 18.768 0 0 1 239.801 27.3 A 18.381 18.381 0 0 1 244.41 35.295 Q 245.262 38.204 245.448 41.698 A 37.577 37.577 0 0 1 245.501 43.7 Z"
            id="3"
            vectorEffect="non-scaling-stroke"
          />
          <path
            d="M 308.301 22 L 313.101 22 L 313.101 68.6 A 42.511 42.511 0 0 1 312.547 75.709 Q 311.233 83.438 306.801 87.8 Q 301.668 92.851 292.288 93.787 A 45.232 45.232 0 0 1 287.801 94 Q 280.601 94 274.201 91.8 A 31.944 31.944 0 0 1 269.079 89.55 A 23.139 23.139 0 0 1 263.901 85.7 L 266.601 81.9 A 26.631 26.631 0 0 0 273.671 86.548 A 31.729 31.729 0 0 0 276.001 87.5 A 33.85 33.85 0 0 0 287.266 89.498 A 38.213 38.213 0 0 0 287.701 89.5 A 34.665 34.665 0 0 0 293.4 89.064 Q 299.585 88.03 303.101 84.55 Q 307.018 80.672 307.866 73.45 A 36.475 36.475 0 0 0 308.101 69.2 L 308.101 60.4 Q 304.901 66.1 299.201 69.2 A 25.722 25.722 0 0 1 288.585 72.224 A 31.106 31.106 0 0 1 286.401 72.3 A 28.344 28.344 0 0 1 277.401 70.9 A 25.891 25.891 0 0 1 273.151 69.05 Q 267.201 65.8 263.801 60 Q 260.401 54.2 260.401 46.9 A 26.867 26.867 0 0 1 261.663 38.56 A 24.08 24.08 0 0 1 263.801 33.8 Q 267.201 28 273.151 24.8 Q 279.101 21.6 286.401 21.6 Q 293.601 21.6 299.401 24.8 Q 305.201 28 308.301 33.8 L 308.301 22 Z M 286.801 67.8 A 24.146 24.146 0 0 0 293.789 66.816 A 21.316 21.316 0 0 0 297.801 65.15 Q 302.701 62.5 305.451 57.75 A 20.514 20.514 0 0 0 308.087 49.322 A 25.373 25.373 0 0 0 308.201 46.9 A 23.046 23.046 0 0 0 307.425 40.814 A 19.396 19.396 0 0 0 305.451 36.1 Q 302.701 31.4 297.801 28.75 Q 292.901 26.1 286.801 26.1 A 24.075 24.075 0 0 0 280.081 27.01 A 20.919 20.919 0 0 0 275.851 28.75 Q 271.001 31.4 268.251 36.1 A 20.136 20.136 0 0 0 265.637 44.253 A 25.154 25.154 0 0 0 265.501 46.9 A 23.076 23.076 0 0 0 266.347 53.252 A 19.743 19.743 0 0 0 268.251 57.75 Q 271.001 62.5 275.851 65.15 A 21.776 21.776 0 0 0 284.557 67.707 A 26.574 26.574 0 0 0 286.801 67.8 Z"
            id="4"
            vectorEffect="non-scaling-stroke"
          />
          <path
            d="M 372.001 41.1 L 372.001 74.2 L 367.201 74.2 L 367.201 64.9 Q 364.701 69.5 359.901 72.05 A 21.114 21.114 0 0 1 353.899 74.112 Q 351.332 74.6 348.401 74.6 A 29.864 29.864 0 0 1 342.851 74.116 Q 339.663 73.512 337.145 72.157 A 15.886 15.886 0 0 1 334.651 70.5 A 13.074 13.074 0 0 1 329.649 60.984 A 16.827 16.827 0 0 1 329.601 59.7 A 14.761 14.761 0 0 1 330.491 54.481 A 13.107 13.107 0 0 1 334.251 49.15 A 13.913 13.913 0 0 1 338.624 46.643 Q 342.543 45.197 348.319 45.106 A 49.777 49.777 0 0 1 349.101 45.1 L 367.001 45.1 L 367.001 40.9 Q 367.001 35.538 364.87 32.065 A 11.399 11.399 0 0 0 363.051 29.8 Q 359.701 26.578 353.726 26.088 A 27.258 27.258 0 0 0 351.501 26 Q 346.301 26 341.551 27.8 A 27.338 27.338 0 0 0 336.666 30.205 A 22.508 22.508 0 0 0 333.501 32.6 L 331.001 29 Q 334.901 25.5 340.401 23.55 Q 345.901 21.6 351.901 21.6 A 30.46 30.46 0 0 1 357.717 22.12 Q 361.068 22.773 363.674 24.243 A 15.704 15.704 0 0 1 366.801 26.55 Q 372.001 31.5 372.001 41.1 Z M 367.001 58.8 L 367.001 49 L 349.201 49 A 33.59 33.59 0 0 0 345.307 49.209 Q 341.189 49.692 338.758 51.285 A 8.591 8.591 0 0 0 338.051 51.8 A 9.136 9.136 0 0 0 334.645 58.417 A 12.966 12.966 0 0 0 334.601 59.5 A 10.981 10.981 0 0 0 335.222 63.272 A 9.427 9.427 0 0 0 338.401 67.55 Q 341.421 69.895 346.401 70.376 A 28.109 28.109 0 0 0 349.101 70.5 A 23.438 23.438 0 0 0 354.415 69.926 A 17.533 17.533 0 0 0 360.151 67.5 A 17.454 17.454 0 0 0 365.887 61.165 A 22.421 22.421 0 0 0 367.001 58.8 Z"
            id="5"
            vectorEffect="non-scaling-stroke"
          />
          <path
            d="M 392.601 74.2 L 392.601 0 L 397.601 0 L 397.601 74.2 L 392.601 74.2 Z"
            id="6"
            vectorEffect="non-scaling-stroke"
          />
          <path
            d="M 456.401 41.1 L 456.401 74.2 L 451.601 74.2 L 451.601 64.9 Q 449.101 69.5 444.301 72.05 A 21.114 21.114 0 0 1 438.299 74.112 Q 435.732 74.6 432.801 74.6 A 29.864 29.864 0 0 1 427.251 74.116 Q 424.063 73.512 421.545 72.157 A 15.886 15.886 0 0 1 419.051 70.5 A 13.074 13.074 0 0 1 414.049 60.984 A 16.827 16.827 0 0 1 414.001 59.7 A 14.761 14.761 0 0 1 414.891 54.481 A 13.107 13.107 0 0 1 418.651 49.15 A 13.913 13.913 0 0 1 423.024 46.643 Q 426.943 45.197 432.719 45.106 A 49.777 49.777 0 0 1 433.501 45.1 L 451.401 45.1 L 451.401 40.9 Q 451.401 35.538 449.27 32.065 A 11.399 11.399 0 0 0 447.451 29.8 Q 444.101 26.578 438.126 26.088 A 27.258 27.258 0 0 0 435.901 26 Q 430.701 26 425.951 27.8 A 27.338 27.338 0 0 0 421.066 30.205 A 22.508 22.508 0 0 0 417.901 32.6 L 415.401 29 Q 419.301 25.5 424.801 23.55 Q 430.301 21.6 436.301 21.6 A 30.46 30.46 0 0 1 442.117 22.12 Q 445.468 22.773 448.074 24.243 A 15.704 15.704 0 0 1 451.201 26.55 Q 456.401 31.5 456.401 41.1 Z M 451.401 58.8 L 451.401 49 L 433.601 49 A 33.59 33.59 0 0 0 429.707 49.209 Q 425.589 49.692 423.158 51.285 A 8.591 8.591 0 0 0 422.451 51.8 A 9.136 9.136 0 0 0 419.045 58.417 A 12.966 12.966 0 0 0 419.001 59.5 A 10.981 10.981 0 0 0 419.622 63.272 A 9.427 9.427 0 0 0 422.801 67.55 Q 425.821 69.895 430.801 70.376 A 28.109 28.109 0 0 0 433.501 70.5 A 23.438 23.438 0 0 0 438.815 69.926 A 17.533 17.533 0 0 0 444.551 67.5 A 17.454 17.454 0 0 0 450.287 61.165 A 22.421 22.421 0 0 0 451.401 58.8 Z"
            id="7"
            vectorEffect="non-scaling-stroke"
          />
          <path
            d="M 523.701 43.7 L 523.701 74.2 L 518.701 74.2 L 518.701 44.1 A 27.908 27.908 0 0 0 518.266 39.01 Q 517.728 36.115 516.525 33.847 A 13.803 13.803 0 0 0 514.251 30.7 Q 509.801 26.1 501.801 26.1 Q 492.601 26.1 487.301 31.6 A 18.423 18.423 0 0 0 482.571 40.706 A 26.955 26.955 0 0 0 482.001 46.4 L 482.001 74.2 L 477.001 74.2 L 477.001 22 L 481.801 22 L 481.801 33.3 Q 484.501 27.8 489.851 24.7 A 22.703 22.703 0 0 1 497.661 21.975 A 30.114 30.114 0 0 1 502.501 21.6 A 27.236 27.236 0 0 1 509.015 22.336 A 18.768 18.768 0 0 1 518.001 27.3 A 18.381 18.381 0 0 1 522.61 35.295 Q 523.462 38.204 523.648 41.698 A 37.577 37.577 0 0 1 523.701 43.7 Z"
            id="8"
            vectorEffect="non-scaling-stroke"
          />
          <path
            d="M 591.001 43.7 L 591.001 74.2 L 586.001 74.2 L 586.001 44.1 A 27.908 27.908 0 0 0 585.566 39.01 Q 585.028 36.115 583.825 33.847 A 13.803 13.803 0 0 0 581.551 30.7 Q 577.101 26.1 569.101 26.1 Q 559.901 26.1 554.601 31.6 A 18.423 18.423 0 0 0 549.871 40.706 A 26.955 26.955 0 0 0 549.301 46.4 L 549.301 74.2 L 544.301 74.2 L 544.301 22 L 549.101 22 L 549.101 33.3 Q 551.801 27.8 557.151 24.7 A 22.703 22.703 0 0 1 564.961 21.975 A 30.114 30.114 0 0 1 569.801 21.6 A 27.236 27.236 0 0 1 576.315 22.336 A 18.768 18.768 0 0 1 585.301 27.3 A 18.381 18.381 0 0 1 589.91 35.295 Q 590.762 38.204 590.948 41.698 A 37.577 37.577 0 0 1 591.001 43.7 Z"
            id="9"
            vectorEffect="non-scaling-stroke"
          />
        </g>
      </svg>
    </div>
  );
}
